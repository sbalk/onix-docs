
<!DOCTYPE html>


<html lang="en" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Headstage-64 &#8212; ONIX Docs</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/theme_overrides.css?v=5fb06fa6" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=ccbe24c1"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/copyURLToClipboard.js?v=6c4d178e"></script>
    <script src="https://wavedrom.com/skins/default.js"></script>
    <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Hardware Guide/Headstages/headstage-64/index';</script>
    <link rel="icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Test Board for Headstage-64" href="test-board-64.html" />
    <link rel="prev" title="Making Coaxial Tethers" href="../tethers.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
    
    
    
    <img src="../../../_static/onix_open_ephys_logo.svg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../../_static/onix_open_ephys_logo.svg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../Getting%20Started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../../index.html">
                         Hardware Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../API%20Reference/index.html">
                         API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../Software%20Guide/index.html">
                         Software Guide
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://open-ephys.org">
                    Open Ephys
                  </a>
                </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys/onix-docs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/openephys" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/WXAx2URNQU" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-discord"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../Getting%20Started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../../index.html">
                         Hardware Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../API%20Reference/index.html">
                         API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../Software%20Guide/index.html">
                         Software Guide
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://open-ephys.org">
                    Open Ephys
                  </a>
                </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys/onix-docs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/openephys" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/WXAx2URNQU" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-discord"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../PCIe%20Host/index.html">PCIe Host</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../PCIe%20Host/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PCIe%20Host/setup-windows.html">Setup Guide for Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PCIe%20Host/updating-firmware.html">Updating Firmware in Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PCIe%20Host/multi-board-sync.html">Synchronizing Multiple PCIe Hosts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PCIe%20Host/bracket-assembly.html">PCIe Bracket Assembly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Breakout%20Board/index.html">Breakout Board</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Breakout%20Board/setup.html">Breakout Board Guide</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Headstages</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../setup.html">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../serialization.html">Coaxial Data Serialization &amp; Power</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tethers.html">Making Coaxial Tethers</a></li>
<li class="toctree-l2 current active has-children"><a class="current reference internal" href="#">Headstage-64</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="test-board-64.html">Test Board for Headstage-64</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../headstage-neuropix.html">Neuropixels-1.0 Headstage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tether-voltage.html">Tethered Headstage Voltages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Miniscopes/index.html">Miniscopes</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Commutators/index.html">Coaxial Commutators</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Commutators/setup.html">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Commutators/usage.html">Usage</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Lighthouses/index.html">3D-Tracking Lighthouses</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Lighthouses/setup.html">Setup</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Adapters%20%26%20EIBs/index.html">Adapters &amp; EIBs</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Adapters%20%26%20EIBs/eib-64.html">EIB-64</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Adapters%20%26%20EIBs/eib-64-large.html">EIB-64L</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Adapters%20%26%20EIBs/omnetics-adapter-64.html">64-Channel Omnetics Adpater</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Adapters%20%26%20EIBs/nano-z-adapter-64.html">64-Channel Nano-Z Adapter</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Datasheets/index.html">ONI Datasheets</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/heartbeat.html">Heartbeat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/load-test.html">Load Test Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/memory-usage.html">Memory Usage Monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/fmc-analog-io.html">FMC Host Analog IO Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/fmc-digital-io.html">FMC Host Digital IO Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/fmc-clock-out.html">FMC Host Clock Output Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/fmc-link-control.html">FMC Link Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/bno055.html">BNO055</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/rhd2164.html">RHD2164</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/rhs2116.html">RHS2116</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/rhs2116-trigger.html">RHS2116 Trigger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/estim-hs64.html">HS64 Electrical Stimulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/ostim-hs64.html">HS64 Optical Stimulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/ts4231-v1-array.html">TS4231 Array for Vive V1 Base Stations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/neuropixels-v1.html">Neuropixels V1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/ds90ub9x-raw.html">DS90UB9X Raw Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Datasheets/test-0.html">Test0 Device</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Connections%20%26%20Cables/index.html">Connections and Cables</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link"> Hardware Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Headstages</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Headstage-64</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="headstage-64">
<span id="id1"></span><h1>Headstage-64<a class="headerlink" href="#headstage-64" title="Permalink to this heading">#</a></h1>
<p><strong>Headstage-64</strong> is a 1.5g serialized, multifunction headstage for small
animals. This headstage is designed to function with <a class="reference internal" href="../../Adapters%20%26%20EIBs/eib-64.html#eib-64"><span class="std std-ref">EIB-64</span></a> for <a class="reference external" href="https://open-ephys.org/shuttledrive">tetrode
microdrives</a>. Alternatively it can be
used with other passive probes (e.g. silicon arrays, EEG/ECOG arrays, etc)
using <a class="reference internal" href="../../Adapters%20%26%20EIBs/omnetics-adapter-64.html#omnetics-adapter-64"><span class="std std-ref">64-Channel Omnetics Adpater</span></a> or similar.</p>
<a class="reference internal image-reference" href="../../../_images/headstage-64_1r3_tether_short.jpg"><img alt="ONIX Headstage-64 v1.3" class="align-center" src="../../../_images/headstage-64_1r3_tether_short.jpg" style="height: 200px;" /></a>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There are multiple headstage hardware revisions. The revision
number is printed on the PCB. You can use the <a class="reference external" href="https://docs.google.com/spreadsheets/d/1LwEOlOkL_HJKeTmNJFVIlItzVeCZDzOt_9Up_rA36Ic/edit?usp=sharing">compatibility matrix</a>
to find host hardware for your headstage.</p>
</div>
<div class="toctree-wrapper compound">
</div>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>64 analog ephys channels and 3 auxiliary channels sampled at 30 kHz per channel</p></li>
<li><p>A BNO055 9-axis IMU for real-time, 3D orientation tracking</p></li>
<li><p>Four TS4231 light to digital converters for real-time, 3D position tracking
with HTC Vive base stations</p></li>
<li><p>An electrical stimulator (current controlled, +/-15V compliance, automatic electrode</p></li>
<li><p>discharge)</p></li>
<li><p>Two optical stimulators (800 mA per channel)</p></li>
<li><p>An Intel MAX10 FPGA for real-time data arbitration</p></li>
</ul>
<img alt="ONIX Headstage-64 v1.1." class="align-center" src="../../../_images/headstage-64.png" />
</section>
<section id="data-link-serializaiton">
<h2>Data Link Serializaiton<a class="headerlink" href="#data-link-serializaiton" title="Permalink to this heading">#</a></h2>
<p>For details on data serialiation and headstage gateware, have a look at the
<a class="reference internal" href="../serialization.html#serialization"><span class="std std-ref">Coaxial Data Serialization &amp; Power</span></a> page, which describes how coax headstages operatate in
general terms. Headstage-64 has the following coaxial link properties:</p>
<table class="table">
<colgroup>
<col style="width: 17.9%" />
<col style="width: 28.6%" />
<col style="width: 17.9%" />
<col style="width: 17.9%" />
<col style="width: 17.9%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Min</p></th>
<th class="head"><p>Max</p></th>
<th class="head"><p>Unit/
Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FPGA</p></td>
<td><p>Intel 10M08DFV81</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Serializer</p></td>
<td><p>TI DS90UB933</p></td>
<td></td>
<td></td>
<td><p>Coaxial</p></td>
</tr>
<tr class="row-even"><td><p>Supply Voltage</p></td>
<td><p>5.0</p></td>
<td><p>5.0</p></td>
<td><p>6.3*</p></td>
<td><p>Volts</p></td>
</tr>
<tr class="row-odd"><td><p>Hub Clock Frequency</p></td>
<td><p>42</p></td>
<td></td>
<td></td>
<td><p>MHz</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>*Do not exceed 6.3 VDC at the coaxial input to the headstage. Make
sure you make this measurement at the headstage (see: :ref: <cite>Measuring headstage voltage</cite>) to
account for a potential voltage drop in the tether. Exceeding this voltage can
permanently damage the
headstage.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Have a look at the <a class="reference internal" href="../tethers.html#tethers"><span class="std std-ref">Making Coaxial Tethers</span></a> page for more detials on mirco-coax
headstage tethers</p>
</div>
</section>
<section id="electrophysiology-auxiliary-analog-inputs">
<h2>Electrophysiology &amp; Auxiliary Analog Inputs<a class="headerlink" href="#electrophysiology-auxiliary-analog-inputs" title="Permalink to this heading">#</a></h2>
<p>headstage-64 uses a 64-channel, BGA-packaged <a class="reference external" href="https://intantech.com/">Intan RHD2164</a> bioamplifier chip. The chip is operated at a fixed
sampling rate of 30 kHz/channel (including auxiliary channels). Specifically,
it provides:</p>
<ul class="simple">
<li><p>64x ephys channels  which are exposed via a mezzanine connector on the bottom
of the headstage and can be used to record from most passive probes (e.g.
tetrodes, silicon probe arrays, tungsten microwires, steel EEG wires, etc) -
3 auxiliary channels</p></li>
<li><p>2x auxiliary channels (0.1-2.45V input range) are pinned out on the bottom of
the headstage to an unpopulated mezzanine connector and solder-able test
points</p></li>
<li><p>A 3rd auxilary analog channel is tied to the electrical stimulator’s current
measurement circuit via a selectable solder jumper on the bottom of the
board. This jumper can be desoldered and instead a series resistor added to
allow low-frequency LFP recordings as per pg. 26 of the RHD2000 datasheet.</p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The headstage connector pinout (ADC input mapping, stimulation
connections, etc) is located on <a class="reference external" href="https://docs.google.com/spreadsheets/d/11wRDYOqHN5lPb03yUdfXfK0zvaDYsVetplaNK-R90Gg/edit#gid=663991061">this Google sheet</a>.</p>
</div>
</section>
<section id="d-position-tracking">
<h2>3D Position Tracking<a class="headerlink" href="#d-position-tracking" title="Permalink to this heading">#</a></h2>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Move this into its own page</p>
</div>
<p>headstage-64 has four <a class="reference external" href="https://store.steampowered.com/steamvr">SteamVR</a>
receivers for 3D position tracking.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These receivers are compatible with both V1 and V2 (“index” branded)
basestations. Although the firmware we supply for the headstage can be used
to obtain 3D position from kinds of basestation, we consider V1
basestations deprecated and cannot guarantee future functionality.</p>
</div>
<p>Assuming you are using <a class="reference external" href="https://store.steampowered.com/app/1059570/Valve_Index_Base_Station/">V2
basestations</a>,
to set up tracking,</p>
<ol class="arabic simple">
<li><p>Mount each of the basestations so that they have a clear line of sight to as
much of the behavioral space as possible. For a relatively flat arena, the
simplest configuration is to mount two basestations directly above the
behavioral space inline and separated by 0.5 to 1 meters. For more complex
environments more than 2 basestations are required to get full coverage, any
configuration is possible so long 2 basestations have a line of site to the
headstage and are no more than 4 meters away. For this, there are lots of
options for ready-made, adjustable basestation mounts availble on Amazon and
elsewhere.</p></li>
<li><p>Serial into each of the basestations using the USB connection on the back
and set up a terminal connection using <code class="docutils literal notranslate"><span class="pre">screen</span> <span class="pre">/dev/ttyACM0</span> <span class="pre">115200</span></code> or
similar</p></li>
<li><p>Once connected you can hit Tab to see commands</p></li>
<li><p>Set the mode of of each base staiton to a different value using
<code class="docutils literal notranslate"><span class="pre">mode</span> <span class="pre">n</span></code> where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the desired mode (1-16). The only requirement is
that each basestation have a unique mode.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a basestation loses power, it will reset to mode 1. Its best to
just leave the basestations plugged in and untouched to minimize the need to
for re-calibration and mode programming</p>
</div>
<ol class="arabic simple">
<li><p>TODO: obtain the position and orientation of each basestations</p></li>
</ol>
</section>
<section id="d-orientation-tracking">
<h2>3D Orientation Tracking<a class="headerlink" href="#d-orientation-tracking" title="Permalink to this heading">#</a></h2>
<p>headstage-64 has a <a class="reference external" href="https://www.bosch-sensortec.com/products/smart-sensors/bno055.html">BNO055</a> 9-axis
inertial measurement unit that provides the absolute orientation of the
headstage. This device produces orientation (and other) measurements are 100
Hz.</p>
</section>
<section id="neural-stimulation">
<h2>Neural Stimulation<a class="headerlink" href="#neural-stimulation" title="Permalink to this heading">#</a></h2>
<p>headstage-64 provides onboard electrical and optical stimulatus generators.
Stimulus trains can be parameterized in a similar way to the master-8 or pulse
pal.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To achieve the shortest latency, electrical or optical stimulation can be triggered
using the GPIO1 serializer output. Because both stimulators share this trigger line,
it is important to only enable one of the devices (using its ENABLE register) prior
to toggling this pin.</p>
</div>
<section id="optical-stimulation">
<h3>Optical Stimulation<a class="headerlink" href="#optical-stimulation" title="Permalink to this heading">#</a></h3>
<p>Optical stimulation is provided by a dual-channel, high-current LED driver.
This driver can be used for LEDs or laser diodes. It provides 800-mA per
channel. The cathodic connections can be paralleled to increase max current.
The maximum peak current in 1.6 Amps. However, if you deliver this current for
a significant amount of time, the headstage will shutdown due to an
over-temperture condition. The optical stimulator is only appropriate for low
duty-cycle pulse-type stimulation.</p>
</section>
<section id="electical-stimulation">
<h3>Electical Stimulation<a class="headerlink" href="#electical-stimulation" title="Permalink to this heading">#</a></h3>
<p>The electrical stimulation cicuit is an improved Howland current pump followed by
an precision current measurement circuit. The current pump is supplied by +/-15V
rails and can supply up to +/- 2.5 mA. The output current is defined as:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The headstage must be supplied by 5.5V, <a class="reference internal" href="../tether-voltage.html#measure-voltage"><span class="std std-ref">measured at the DC couping
inductor</span></a>, to use electrical stimulation. If the voltage is less
than this, stimulus pulses will fail to acheive target currents and this will result
in charge imblance, which can damage neural tissue.</p>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ISTIM = (VDAC  - 2.5)/1000.
e.g.
VDAC = 2.5   -&gt; ISTIM = 0
VDAC = 5.0   -&gt; ISTIM = 2.5 mA
VDAC = 0.0   -&gt; ISTIM = -2.5mA
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Imeas = 400 * ISTIM + 1.25V
e.g.
ISTIM = 0      -&gt; IMEAS = 1.25V
ISTIM = 2.5mA  -&gt; IMEAS = 2.25V
ISTIM = -2.5mA -&gt; IMEAS = 0.25V
</pre></div>
</div>
</section>
</section>
<section id="bill-of-materials">
<h2>Bill of Materials<a class="headerlink" href="#bill-of-materials" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>The interactive BOM is <a class="reference external" href="../../../_static/boms/headstage-64_1r3_bom.html">here</a></p></li>
<li><p>The complete BOM (including vendor part numbers) is located on <a class="reference external" href="https://docs.google.com/spreadsheets/d/1F-KWcdvH_63iXjZf0cgCfDiFX6XXW3qw6rlR8DZrFpQ/edit#gid=138167638">this google
sheet</a></p></li>
</ul>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../tethers.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Making Coaxial Tethers</p>
      </div>
    </a>
    <a class="right-next"
       href="test-board-64.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Test Board for Headstage-64</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#features">Features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-link-serializaiton">Data Link Serializaiton</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#electrophysiology-auxiliary-analog-inputs">Electrophysiology &amp; Auxiliary Analog Inputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#d-position-tracking">3D Position Tracking</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#d-orientation-tracking">3D Orientation Tracking</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#neural-stimulation">Neural Stimulation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optical-stimulation">Optical Stimulation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#electical-stimulation">Electical Stimulation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bill-of-materials">Bill of Materials</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  
  <div class="tocsection editthispage">
    <a href="https://github.com/open-ephys/onix-docs/edit/main/source/Hardware Guide/Headstages/headstage-64/index.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../../../_sources/Hardware Guide/Headstages/headstage-64/index.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2010-2023, Open Ephys &amp; Contributors.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>